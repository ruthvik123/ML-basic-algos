SELECT * FROM
(SELECT M21.COUNTRY1,M21.COUNTRY2,M21.CONTINENT_1,M22.CONTINENT_2 FROM

(SELECT M.COUNTRY1,M.COUNTRY2,M1.CONTINENT_1 FROM 
(SELECT * FROM BORDERS) M JOIN

(SELECT COUNTRY AS COUNTRY_1,CONTINENT AS CONTINENT_1 FROM ENCOMPASSES WHERE COUNTRY IN (SELECT COUNTRY1 FROM BORDERS)) M1
ON M.COUNTRY1 = M1.COUNTRY_1) M21

JOIN

(SELECT COUNTRY AS COUNTRY_2,CONTINENT AS CONTINENT_2 FROM ENCOMPASSES WHERE COUNTRY IN (SELECT COUNTRY2 FROM BORDERS)) M22

ON M21.COUNTRY2 = M22.COUNTRY_2)
WHERE CONTINENT_1 != CONTINENT_2